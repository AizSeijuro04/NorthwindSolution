@model IEnumerable<Northwind.Contracts.Dto.Product.ProductDto>

<h4>Products On Sale</h4>

<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
<div class="row">
    <div class="column flex-lg-wrap ">
        @using (Html.BeginForm("Index", "ProductOnSale", FormMethod.Get))
        {
            <p>
                Find By @Html.TextBox("SearchString", ViewBag.CurrentFilter as string, new { placeholder = "Product Name" })
                <input type="submit" value="Search" />
            </p>
        }
    </div>
</div>


@foreach (var item in Model)
{
    <div class="col-md- col-lg-4">

        <div class="card mb-4">
            <img class="card-img-top" width="200" height="300" src="@Url.Content("~/Resources/images/" + item.ProductPhotos.FirstOrDefault().PhotoFilename)" alt="Card image cap">
            <div class="card-body">
                <p class="card-text">
                    <center><b>@Html.DisplayFor(modelItem => item.ProductName)</b></center>
                </p>
                <p class="card-text">
                    @Html.LabelFor(modelItem => item.UnitPrice, htmlAttributes : new{@class="form-label"}) :
                    @Html.DisplayFor(modelItem => item.UnitPrice)
                    <br>
                    @Html.LabelFor(modelItem => item.UnitsInStock, htmlAttributes : new{@class="form-label"}) :
                    @Html.DisplayFor(modelItem => item.UnitsInStock)
                </p>
                <div>
                    <a asp-action="Details" asp-route-id="@item.ProductId">
                        <button class="btn btn-primary me-md-2" type="button">Detail</button>
                    </a>
                    <a asp-action="MyCart" asp-route-id="@item.ProductId">
                        <button type="button" class="btn btn-danger">
                            Add to Cart <i class="fas fa-shopping-cart"></i>
                        </button>
                    </a>
                </div>
            </div>
        </div>
    </div>

}